# 1. Main Domain: www.smktibazma.com
# Root path is /var/www/html (Ubuntu default) or you can use /var/ukk if needed
server {
    listen 80;
    server_name www.smktibazma.com smktibazma.com;

    location / {
        return 200 "Selamat UKK SMK 2025";
        add_header Content-Type text/plain;
    }
}

# 2. Subdomain UKK: ukk.smktibazma.com
server {
    listen 80;
    server_name ukk.smktibazma.com;

    location / {
        return 200 "SMK Bisa!";
        add_header Content-Type text/plain;
    }
}

# 3. Custom App Domain: apps.smktibazma.com (Xinna Next.js)
# Project location: /var/Xinna
server {
    listen 80;
    server_name apps.smktibazma.com;

    location / {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}
